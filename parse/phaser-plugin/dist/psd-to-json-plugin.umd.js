(function(n,i){typeof exports=="object"&&typeof module<"u"?module.exports=i():typeof define=="function"&&define.amd?define(i):(n=typeof globalThis<"u"?globalThis:n||self,n.PsdToJSONPlugin=i())})(this,function(){"use strict";class n extends Phaser.Plugins.BasePlugin{constructor(o){super(o),this.psdData=[]}init(){this.game.events.once("destroy",this.destroy,this)}loadJSON(o,e,s){o.load.json(e,s),o.load.once("complete",()=>{const d=o.cache.json.get(e);this.processJSON(o,e,d)})}processJSON(o,e,s){o.game.registry.set(e,s),console.log(o.game.registry),this.psdData[e]=s,console.log(this.psdData)}addPsd(o,e,s){console.log(`Adding PSD: ${e} from ${s}`);const d=this.psdData[s];if(!d){console.error(`No PSD data found for ${s}`);return}const t=d.psds.find(r=>r.filename===s);if(!t){console.error(`No PSD named ${s} found in the data`);return}return console.log(`Adding PSD ${e}:`),console.log(`Dimensions: ${t.width}x${t.height}`),console.log(`Number of sprites: ${t.sprites.length}`),console.log(`Number of zones: ${t.zones.length}`),console.log(`Number of points: ${t.points.length}`),t}}return n});
