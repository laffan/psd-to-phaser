---
layout: base.njk
title: Loading PSDs
---

# Loading PSDs

The first step in using psd-to-phaser is loading your PSD data. The plugin provides two main loading methods: `load()` for single PSDs and `loadMultiple()` for loading several PSDs at once.

## Basic Loading with load()

When preloading your scene, use `P2P.load()` by passing in the folder generated by psd-to-json. Any assets in the JSON that do not have a `lazyLoad:true` attribute will start loading immediately.

{% interactive "demos/output/loading", "basic_loading", "// Load a PSD from the assets folder
this.P2P.load.load(this, 'demo_psd', 'public/demos/output/loading');

this.events.once('psdLoadComplete', () => {
  // Place the loaded PSD
  const psd = this.P2P.place(this, 'demo_psd', 'root');
  psd.setPosition(this.cameras.main.centerX, this.cameras.main.centerY);
});" %}

## Loading with LazyLoad Options

You can control which assets load immediately and which load later using lazyLoad options:

{% interactive "demos/output/loading", "lazy_loading", "// Set all layers to lazy load
this.P2P.load.load(this, 'demo_psd', 'public/demos/output/loading', {
  lazyLoad: true
});

this.events.once('psdLoadComplete', () => {
  const psd = this.P2P.place(this, 'demo_psd', 'root');
  psd.setPosition(this.cameras.main.centerX, this.cameras.main.centerY);
});" %}

## Selective LazyLoad

You can also specify which specific layers should be lazy loaded:

{% interactive "demos/output/loading", "selective_lazy", "// Set specific layers to lazy load
this.P2P.load.load(this, 'demo_psd', 'public/demos/output/loading', {
  lazyLoad: ['background', 'heavyAssets']
});

this.events.once('psdLoadComplete', () => {
  const psd = this.P2P.place(this, 'demo_psd', 'root');
  psd.setPosition(this.cameras.main.centerX, this.cameras.main.centerY);
});" %}

## Loading Progress Events

Listen for loading progress to show loading indicators or update progress bars:

{% interactive "demos/output/loading", "loading_progress", "// Load with progress tracking
this.P2P.load.load(this, 'demo_psd', 'public/demos/output/loading');

// Track loading progress
this.events.on('psdLoadProgress', (value) => {
  console.log(`Loading: ${(value * 100).toFixed(1)}% complete`);
});

// Handle completion
this.events.once('psdLoadComplete', () => {
  console.log('All assets loaded!');
  const psd = this.P2P.place(this, 'demo_psd', 'root');
  psd.setPosition(this.cameras.main.centerX, this.cameras.main.centerY);
});" %}

## Loading Multiple PSDs

When you need to load multiple PSDs at once with position offsets, use `P2P.loadMultiple()`:

{% interactive "demos/output/loading", "load_multiple", "// Load multiple PSDs with different positions
this.P2P.loadMultiple(this, [
  {
    key: 'background_psd',
    path: 'public/demos/output/loading',
    position: { x: 0, y: 0 }
  },
  {
    key: 'foreground_psd', 
    path: 'public/demos/output/loading',
    position: { x: 100, y: 50 }
  }
]);

this.events.once('psdLoadComplete', () => {
  // Place both PSDs
  const bg = this.P2P.place(this, 'background_psd', 'root');
  const fg = this.P2P.place(this, 'foreground_psd', 'root');
  
  bg.setPosition(this.cameras.main.centerX - 50, this.cameras.main.centerY);
  fg.setPosition(this.cameras.main.centerX + 50, this.cameras.main.centerY);
});" %}

## Getting PSD Data

Use `getData()` to access information about loaded PSDs:

{% interactive "demos/output/loading", "get_data", "// Load a PSD
this.P2P.load.load(this, 'demo_psd', 'public/demos/output/loading');

this.events.once('psdLoadComplete', () => {
  // Get PSD data
  const psdData = this.P2P.getData('demo_psd');
  
  console.log('Base Path:', psdData.basePath);
  console.log('PSD Width:', psdData.original.width);
  console.log('PSD Height:', psdData.original.height);
  
  // Place the PSD
  const psd = this.P2P.place(this, 'demo_psd', 'root');
  psd.setPosition(this.cameras.main.centerX, this.cameras.main.centerY);
});" %}

## Loading Events Reference

The loading system emits several useful events:

- **`psdLoadProgress`** - Fired during loading with progress value (0-1)
- **`psdLoadComplete`** - Fired when all initial assets are loaded
- **`lazyLoadStart`** - Fired when lazy loading begins
- **`lazyLoadProgress`** - Fired during lazy loading with progress
- **`lazyLoadingComplete`** - Fired when lazy loading finishes

These events allow you to create responsive loading screens and manage asset loading efficiently.